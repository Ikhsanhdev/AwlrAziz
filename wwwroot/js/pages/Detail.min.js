moment.locale("id");var lastReadingDateRaw=getLastReadingDate().lastReading,LAST_READING_DATE=(lastReadingDateRaw?moment(lastReadingDateRaw):moment()).format("DD MMMM YYYY"),LAST_READING_DATE_RAW=(lastReadingDateRaw?moment(lastReadingDateRaw):moment()).format("YYYY-MM-DD");function generateDataTable(e,a){var t=[{title:"Tanggal Baca",data:"readingAt",render:function(e){return moment(e).format("DD MMMM YYYY HH:mm")}},{title:"Water Level (cm)",data:"waterLevel",render:function(e){return"".concat(e.toFixed(2)," cm")}}];$.fn.DataTable.isDataTable("#table-telemetri")&&$("#table-telemetri").DataTable().clear().destroy(),$("#table-telemetri").DataTable({processing:!0,serverSide:!1,ajax:{url:"/Home/GetDataTableAwlr?periode=".concat(e,"&periodEnd=").concat(a),type:"GET",dataSrc:""},columns:t,responsive:!0,language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/id.json"},order:[[0,"desc"]],pageLength:10})}function getLastReadingDate(){var n;return $.ajax({url:"/Home/GetLastReadingDate?deviceId=MAA1",type:"GET",async:!1,success:function(e){e=moment.parseZone(e.lastReading);e.hour(),n=e.format("YYYY-MM-DD")},error:function(e,a,t){console.error("Error:",a,t),n=null}}),n}$(document).ready(function(){document.getElementById("periode").placeholder=LAST_READING_DATE,document.getElementById("periode-end").placeholder=LAST_READING_DATE,flatpickr("#periode",{dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id",defaultDate:LAST_READING_DATE_RAW,maxDate:"today",disableMobile:!0}),flatpickr("#periode-end",{dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id",defaultDate:LAST_READING_DATE_RAW,maxDate:"today",disableMobile:!0}),$("#periode").val(),$("#periode-end").val()});